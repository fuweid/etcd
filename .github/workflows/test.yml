name: Dependabot Go Dependency Check

on:
  pull_request:

jobs:
  check-dependencies:
    if: startsWith(github.head_ref, 'dependabot/go_modules/')
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Fetch Dependabot metadata
      id: dependabot-metadata
      uses: dependabot/fetch-metadata@v2

    - name: Check for specific Go dependencies
      run: |
        DEPENDENCY_NAMES="${{ steps.dependabot-metadata.outputs.dependency-names }}"
        echo DEPENDENCY_NAMES
